osx_image: xcode8.2
language: objective-c

install:
- gem install cocoapods
- ./install_swiftlint.sh

script:
- pod repo update
- pod lib lint PGNParser.podspec
- swiftlint

- xcodebuild test -workspace PGNParser.xcworkspace -scheme PGNParser-iOS -destination 'platform=iOS Simulator,OS=10.1,name=iPhone 7'
- xcodebuild test -workspace PGNParser.xcworkspace -scheme PGNParser-macOS -destination 'platform=OS X,arch=x86_64'
- xcodebuild test -workspace PGNParser.xcworkspace -scheme PGNParser-tvOS -destination 'platform=tvOS Simulator,name=Apple TV 1080p'

- xcodebuild -workspace PGNParser.xcworkspace -scheme PGNParser-watchOS
